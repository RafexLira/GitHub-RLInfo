@using RLInfo.Models;



<h3 class="text-left">ADM</h3>
<form class="mt-5" method="post" action="UsuarioAdm">
    <fieldset class="border border-dark p-2 m-2">
        <legend class="w-auto pl-3 pr-3">Buscar Usuário</legend>

        <div class="row col">
            <div class="row form-group col-4 mr-5">
                <label>Nome </label>
                <input class="form-control col ml-2" type="text" name="Nome" maxlength="60" pattern="[A-Za-z\s]{4,60}" />
            </div>
            <div class="row form-group col-3 mr-3">
                <label>RG </label>
                <input class="form-control col ml-2" type="text" name="RG" placeholder="Ex.124578963253" maxlength="13" pattern="[0-9]+$" />
            </div>
            <div class="col ml-2">
                <button type="submit" class="btn btn-dark" onclick="buscar()" ><span class=""></span>Buscar</button>
            </div>
        </div>
    </fieldset>

    <hr />
    <fieldset id="DadosUsuario" class="border border-dark p-2 m-2">
        <legend class="w-auto pl-3 pr-3">Dados do usuário</legend>
        <div class="container row">

            <div class="form-group col-3">
                <label class="text-secondary">Nome </label>
                <input id="nomex" class="form-control col" type="text" name="nomex" maxlength="60" value="@ViewData["Nome"]" readonly />
            </div>
            <div class="form-group col-3">
                <label class="text-secondary">Email</label>
                <input class="form-control col" type="text" name="email" maxlength="60" value="@ViewData["Email"]" readonly />
            </div>
            <div class="form-group col-2">
                <label class="text-secondary">Senha</label>
                <input class="form-control col" type="text" name="senha" maxlength="60" value="@ViewData["Senha"]" readonly />
            </div>
            <div class="form-group col-2">
                <label class="text-secondary">RG</label>
                <input class="form-control col" type="text" name="rg" maxlength="60" value="@ViewData["RG"]" readonly />
            </div>
            <div class="col-2 mt-4 pt-2">
               
                <button id="BtnEditar" class="btn btn-dark" type="submit" name="Button" value="Editar">Editar</button>
            </div>

        </div>
    </fieldset>
    <!-------------------------------------------------------------------------->
    <hr />
    <div id="lista" style="display:none">
        <fieldset class="border border-dark p-2 m-2">
            <legend class="w-auto pl-3 pr-3">Todos os usuários</legend>
            <div class="row">


                <table class="table">

                    @foreach (Usuario x in ViewBag.Todos)
                    {

                        <tr>
                            <th>Nome</th>
                            <th>RG</th>
                            <th></th>
                        </tr>


                        <tr id="tr">
                            <td>@x.Nome</td>
                            <td>@x.RG</td>
                            <td><button class="btn btn-dark" type="submit" value=@x.RG name="RGX">Editar</button></td>
                        </tr>
                    }
                </table>

            </div>
        </fieldset>
    </div>
    <hr />
    <!------------------------------------------------------------------------------->
    <div>
        <button class="btn btn-dark" type="submit" name="Button" value="Novo">Novo</button>
        <button class="btn btn-dark" type="submit" name="Button" value="Sair">Sair</button>
        <button id="BtnListarTodos" class="btn btn-dark" type="button" onclick="Listar()">Listar Todos</button>
    </div>

</form>

<hr />
<script type="text/javascript">

 

    function Listar() {

        var lista = document.getElementById('lista');
        var dadosusuario = document.getElementById('DadosUsuario');
        var BtnEditar = document.getElementById('BtnEditar');
        var ListarTodos = document.getElementById('ListarTodos');

        if (lista.style.display == 'none') {


            lista.style.display = 'block';
            dadosusuario.style.display = 'none';
            BtnEditar.style.display = 'none';
            ListarTodos.style.display = 'none';
            lista.className = 'd-block';
        }
       
    }
    
</script>

